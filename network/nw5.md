# IP
TCP/IP 프로토콜을 만들 때 프로토콜을 사용하는 모든 장비를 구별하기 위해 만든 것.  
`IPv4` : 32bit octet에 . 찍음 ex) 255.123.102.67  
`IPv6` : 128bit. 2^128. 

## Router 에서 IP 지정하기
IF useSISCO 2501 (이더넷 인터페이스 1, 시리얼인터페이스 2)  
`이더넷 인터페이스` : 내부 네트워크에 연결되는 라우터의 포트  
`시리얼 인터페이스` : 인터넷쪽으로 연결되는 인터페이스  
시리얼 인터페이스는 DSU 또는 CSU라는 전용선 모뎀에 연결  
THEN : 라우터에 부여할 IP 주소 == 2

    라우터의 이더넷쪽은 내부 네트워크에서 접속되기 때문  
    내부 PC용으로 받은 IP가 203.120.150.1 ~ 203.120.150.255 까지라면,
    라우터는 203.120.150.1, 라우터에 부여한 주소는 다른 PC에 부여 불가.(IP주소의 충돌로 라우터의 역할을 제대로 수행 할 수 없음.)
    네트워크 주소는 203.120.150.0, 브로드캐스트 주소는 203.120.150.255

    Serial interface : 사용자 임의로 부여 불가. 라우터가 접속하는 상대편(ISP, Internet Service Provider) 라우터의 SERIAL INTERFACE와 IP 주소를 맞춰야 하므로.
***
## IP 주소에 대하여
IP 주소는 32자리 2진수로 구성되었는데, 네트워크 부분과 호스트 부분이 있다.  
여기서 말하는 네트워크는 하나의 브로드캐스트 영역(Broadcast Domain) => 라우터를 거치지 않고 통신이 가능한 영역  

호스트 : 각각의 pc 또는 장비.

하나의 네트워크에서 네트워크 부분은 모두 같아야 하고, 호스트 부분은 모두 달라야 정상적인 통신이 일어난다.

203.120.150.1 에서 203.120.150은 네트워크 부분이고 1 ~ 255는 호스트 부분.

IP 주소 중 네트워크 부분만이 라우터가 라우팅을 할 때 참고하는 부분.

IP 주소의 Class는 IP주소의 네트워크 부분과 호스트 부분을 나누는 방법을약속한 것. IP 주소는 5개의 클래스로 구분되는데(나머지는 Multicast용과 연구용) 클래스 A ~ E로 구분된다.

ip 주소를 3개의 클래스로 나눈 건 네트워크 크기에 따른 구분. 하나의 네트워크가 호스트의 수를 몇 개까지 가질 수 있는가에 따라서 클래스가 나뉜다.

    `class A` : 가질 수 있는 호스트가 가장 많은 클래스.32개의 이진수 중 맨앞쪽 하나가 항상 0으로 시작되는 것들
    0xxx xxxx / xxxx xxxx / xxxx xxxx / xxxx xxxx
    class A는 앞의 8비트(1개의 옥텟)이 네트워크 부분이고 나머지 24비트 (3 옥텟)이 호스트 부분을 나타낸다.
    맨앞 1개의 옥텟이 1 ~ 126으로 시작하는 네트워크는 클래스 A(127은 제외된다.)
***
    `class B` : 맨 앞이 반드시 10으로 시작.
    10xx xxxx / xxxx xxxx / xxxx xxxx / xxxx xxxx
    128.0.0.0 ~ 191.255.255.255 까지
    2옥텟이 네트워크 부분이고 나머지 2 옥텟이 호스트 부분을 나타낸다. 
***
    `class C` : 맨 앞이 110으로 시작. 클래스 C는 앞에 3옥텟이 네트워크 부분을 나타내고 나머지 8비트가 호스트 부분을 나타낸다.
    192.0.0.0 ~ 223.255.255.255

    class D : 224 ~ 239 ( 멀티캐스트 용)
    class E : 240 ~ 255 ( 연구용 )

***
## 서브넷 마스크(Subnet Mask)
메인이 아닌 어떤 가공을 통한 네트워크를 만들기 위해서 씌우는 마스크.  

네트워크를 잘게 나누기 위해서 필요한 것

수 많은 네트워크 장비와 IP를 가진 ISP 업체에서 Broadcast 문제등 문제로 인해 부여받은 원래 IP 주소에 서브넷 마스크를 씌워 네트워크를 나누어 줌.  

`too much wide broadcast domain problems`

서브넷 마스크는 주어진 IP 주소를 네트워크 환경에 맞게 나누어 주기 위해 씌워주는 이진수의 조합

서브넷 마스크는 IP 주소를 가지고 어디 까지가 네트워크고 어디까지가 호스트인지 나타내는 역할을 한다.

    class A의 subnet mask default : 255 0 0 0
    class B의 subnet mask default : 255 255 0 0
    class C의 subnet mask default : 255 255 255 0

    1. 서브넷도 하나의 네트워크이기 때문에 나누어진 서브넷은 라우터를 통해서만 통신이 된다.
    2. 서브넷 마스크를 만들 때 여러 개의 1사이에 0이 들어 가서는 안된다.
***
    문제1
    공인 IP 주소를 210.100.1.0 (서브넷 마스크 255 255 255 0) 네트워크를 받았다.
    이 공인 주소를 이용해서 pc가 30개인 네트워크를 최소 4개 이상 만든 후 네트워크 라우터를 이용해서 서로 통신하게 하려 할 때 서브넷 마스크를 어떻게 구성해야 할까?

    => 1. 디폴트 서브넷 마스크의 값을 변경해야 한다.
    이때 중요하게 봐야 할 것은 한 네트워크가 포함하는 PC(클라이언트, 호스트)의 수.
    
    => 2. 호스트 수 => 0 ~ 255에서 0값과 255값을 가질 수 없는데, 호스트 값이 전부 1인 경우 브로드캐스트 어드레스
    호스트 부분이 0 인 것은 네트워크 주소
    즉, 210.100.1.0 은 네트워크 주소, 210.100.1.255는 브로드캐스트 주소
    이는 사용 가능한 호스트 수 = 2^(호스트 비트수) - 2
    여기서 30개의 pc를 사용한다고 했으니, 30 = 2^(HB) -2 , 32 = 2^(HB)
    HostBit = 5, 30개가 사용 가능.
    210.100.1.0중에 맨 마지막 부분만 바꿔보면
    210.100.1. 0000 0000, 여기서 호스트 비트수가 5니까
    210.100.1. SSSH HHHH

    서브넷을 만들기 위한 서브넷 마스크는 255 / 255 / 255 / 1110 0000
    즉, 255 / 255 / 255 / 224
***
    문제2
    공인 IP 주소 210.222.5.0(255/255/255/0)
    서브넷당 호스트 수 5 개 이상, 총 서브넷 수 20
    호스트 비트 : 3
    서브넷 비트 : 5

    255 / 255 /255 / SSSS SHHH
    255 / 255 / 255 / 1111 1000
    255 / 255 / 255 / 248

    => 이는 각 서브넷당 6개의 호스트를 가지는 32개의 서브넷을 얻을 수 있다.
    호스트 PC = 2^3-2 = 6
    201 . 222. 5. 1 ~ 201. 222. 5.6
    201 . 222. 5. 9 ~ 201. 222. 5.14
    201 . 222. 5. 17 ~ 201. 222. 5.22
    이런식으로 구성된다.

    서브네팅 : 기존의 호스트 부분을 줄여서 일부를 서브넷 부분으로 만들고 나머지를 호스트로 만드는 개념. 호스트의 숫자는 줄어들고 서브넷의 숫자는 늘어난다.
